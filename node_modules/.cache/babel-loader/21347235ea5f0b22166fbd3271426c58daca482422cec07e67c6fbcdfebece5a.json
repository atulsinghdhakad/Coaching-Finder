{"ast":null,"code":"import React,{useState,useEffect}from'react';import{auth,googleProvider,facebookProvider}from'../firebase';import{signInWithEmailAndPassword,signInWithPopup,sendPasswordResetEmail}from'firebase/auth';import{useNavigate,Link}from'react-router-dom';import{FcGoogle}from'react-icons/fc';import{FaFacebook}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[message,setMessage]=useState('');const navigate=useNavigate();// Load Facebook SDK once\nuseEffect(()=>{const loadFacebookSDK=()=>{if(document.getElementById('facebook-jssdk'))return;const script=document.createElement('script');script.id='facebook-jssdk';script.src='https://connect.facebook.net/en_US/sdk.js';script.onload=()=>{if(window.FB){window.FB.init({appId:'3893553884230560',// Replace with your Facebook App ID\ncookie:true,xfbml:true,version:'v18.0'});console.log('Facebook SDK initialized');}};document.body.appendChild(script);};loadFacebookSDK();},[]);const handleLogin=async()=>{try{await signInWithEmailAndPassword(auth,email,password);navigate('/');}catch(error){setMessage(error.message);}};const handleGoogleLogin=async()=>{try{await signInWithPopup(auth,googleProvider);navigate('/');}catch(error){console.error(error);setMessage('Failed to sign in with Google.');}};const handleFacebookLogin=()=>{if(!window.FB){setMessage('Facebook SDK not loaded.');return;}window.FB.login(async response=>{if(response.authResponse){try{await signInWithPopup(auth,facebookProvider);navigate('/');}catch(error){console.error(error);setMessage('Failed to sign in with Facebook.');}}else{setMessage('Facebook login cancelled.');}},{scope:'email'});};const handleForgotPassword=async()=>{try{await sendPasswordResetEmail(auth,email);setMessage('Password reset link sent to your email.');}catch(error){setMessage('Failed to send reset email.');}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center min-h-screen bg-gray-100 dark:bg-gray-900 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 shadow-xl rounded-xl p-8 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-center text-gray-800 dark:text-white mb-6\",children:\"Login\"}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-center mb-4\",children:message}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"w-full p-3 border border-gray-300 rounded-md mb-4 dark:bg-gray-700 dark:text-white\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"w-full p-3 border border-gray-300 rounded-md mb-4 dark:bg-gray-700 dark:text-white\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,className:\"w-full bg-blue-600 text-white p-3 rounded-md hover:bg-blue-700 transition mb-4\",children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center text-sm text-gray-600 dark:text-gray-300 mb-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleForgotPassword,className:\"hover:underline\",children:\"Forgot password?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500 dark:text-gray-300 mb-2\",children:\"OR\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleGoogleLogin,className:\"flex items-center justify-center w-full bg-white dark:bg-gray-700 border p-3 rounded-md shadow hover:bg-gray-100 dark:hover:bg-gray-600 transition mb-3\",children:[/*#__PURE__*/_jsx(FcGoogle,{className:\"text-2xl mr-2\"}),\"Continue with Google\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleFacebookLogin,className:\"flex items-center justify-center w-full bg-blue-600 text-white p-3 rounded-md hover:bg-blue-700 transition\",children:[/*#__PURE__*/_jsx(FaFacebook,{className:\"text-2xl mr-2\"}),\"Continue with Facebook\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4 text-center text-sm text-gray-600 dark:text-gray-300\",children:[\"Don\\u2019t have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-blue-500 hover:underline\",children:\"Sign up\"})]})]})});};export default LoginPage;","map":{"version":3,"names":["React","useState","useEffect","auth","googleProvider","facebookProvider","signInWithEmailAndPassword","signInWithPopup","sendPasswordResetEmail","useNavigate","Link","FcGoogle","FaFacebook","jsx","_jsx","jsxs","_jsxs","LoginPage","email","setEmail","password","setPassword","message","setMessage","navigate","loadFacebookSDK","document","getElementById","script","createElement","id","src","onload","window","FB","init","appId","cookie","xfbml","version","console","log","body","appendChild","handleLogin","error","handleGoogleLogin","handleFacebookLogin","login","response","authResponse","scope","handleForgotPassword","className","children","type","placeholder","value","onChange","e","target","onClick","to"],"sources":["/Users/atulsinghdhakad/Documents/Projects/coaching_finder_project/frontend/src/pages/LoginPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { auth, googleProvider, facebookProvider } from '../firebase';\nimport {\n  signInWithEmailAndPassword,\n  signInWithPopup,\n  sendPasswordResetEmail,\n} from 'firebase/auth';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { FcGoogle } from 'react-icons/fc';\nimport { FaFacebook } from 'react-icons/fa';\n\nconst LoginPage = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n\n  // Load Facebook SDK once\n  useEffect(() => {\n    const loadFacebookSDK = () => {\n      if (document.getElementById('facebook-jssdk')) return;\n\n      const script = document.createElement('script');\n      script.id = 'facebook-jssdk';\n      script.src = 'https://connect.facebook.net/en_US/sdk.js';\n\n      script.onload = () => {\n        if (window.FB) {\n          window.FB.init({\n            appId: '3893553884230560', // Replace with your Facebook App ID\n            cookie: true,\n            xfbml: true,\n            version: 'v18.0',\n          });\n          console.log('Facebook SDK initialized');\n        }\n      };\n\n      document.body.appendChild(script);\n    };\n\n    loadFacebookSDK();\n  }, []);\n\n  const handleLogin = async () => {\n    try {\n      await signInWithEmailAndPassword(auth, email, password);\n      navigate('/');\n    } catch (error) {\n      setMessage(error.message);\n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    try {\n      await signInWithPopup(auth, googleProvider);\n      navigate('/');\n    } catch (error) {\n      console.error(error);\n      setMessage('Failed to sign in with Google.');\n    }\n  };\n\n  const handleFacebookLogin = () => {\n    if (!window.FB) {\n      setMessage('Facebook SDK not loaded.');\n      return;\n    }\n\n    window.FB.login(\n      async (response) => {\n        if (response.authResponse) {\n          try {\n            await signInWithPopup(auth, facebookProvider);\n            navigate('/');\n          } catch (error) {\n            console.error(error);\n            setMessage('Failed to sign in with Facebook.');\n          }\n        } else {\n          setMessage('Facebook login cancelled.');\n        }\n      },\n      { scope: 'email' }\n    );\n  };\n\n  const handleForgotPassword = async () => {\n    try {\n      await sendPasswordResetEmail(auth, email);\n      setMessage('Password reset link sent to your email.');\n    } catch (error) {\n      setMessage('Failed to send reset email.');\n    }\n  };\n\n  return (\n    <div className=\"flex justify-center items-center min-h-screen bg-gray-100 dark:bg-gray-900 px-4\">\n      <div className=\"bg-white dark:bg-gray-800 shadow-xl rounded-xl p-8 w-full max-w-md\">\n        <h2 className=\"text-2xl font-bold text-center text-gray-800 dark:text-white mb-6\">Login</h2>\n\n        {message && <p className=\"text-red-500 text-center mb-4\">{message}</p>}\n\n        <input\n          type=\"email\"\n          className=\"w-full p-3 border border-gray-300 rounded-md mb-4 dark:bg-gray-700 dark:text-white\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n\n        <input\n          type=\"password\"\n          className=\"w-full p-3 border border-gray-300 rounded-md mb-4 dark:bg-gray-700 dark:text-white\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n\n        <button\n          onClick={handleLogin}\n          className=\"w-full bg-blue-600 text-white p-3 rounded-md hover:bg-blue-700 transition mb-4\"\n        >\n          Login\n        </button>\n\n        <div className=\"flex justify-between items-center text-sm text-gray-600 dark:text-gray-300 mb-4\">\n          <button onClick={handleForgotPassword} className=\"hover:underline\">\n            Forgot password?\n          </button>\n        </div>\n\n        <div className=\"text-center text-gray-500 dark:text-gray-300 mb-2\">OR</div>\n\n        <button\n          onClick={handleGoogleLogin}\n          className=\"flex items-center justify-center w-full bg-white dark:bg-gray-700 border p-3 rounded-md shadow hover:bg-gray-100 dark:hover:bg-gray-600 transition mb-3\"\n        >\n          <FcGoogle className=\"text-2xl mr-2\" />\n          Continue with Google\n        </button>\n\n        <button\n          onClick={handleFacebookLogin}\n          className=\"flex items-center justify-center w-full bg-blue-600 text-white p-3 rounded-md hover:bg-blue-700 transition\"\n        >\n          <FaFacebook className=\"text-2xl mr-2\" />\n          Continue with Facebook\n        </button>\n\n        <p className=\"mt-4 text-center text-sm text-gray-600 dark:text-gray-300\">\n          Don’t have an account?{' '}\n          <Link to=\"/register\" className=\"text-blue-500 hover:underline\">\n            Sign up\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}